A. MySQL DB 조사
> SQL injection 방어에 대해 해당 쿼리문을 이해하고 있어야 로그를 보고 이해할 수 있음.
SELECT TABLE_SCHEMA, TABLE_NAME FROM information_schema.tables;
> DB와 해당 DB에 속하는 TABLE 들 확인
desc TABLE_SCHEMA,TABLE_NAME;
> 2.1 원하는 TABLE에 대해 해당하는 DB이름과 함께 COLUMNS 확인
SELECT TABLE_SCHEMA,TABLE_NAME,COLUMN_NAME FROM information_schema.columns WHERE TABLE_SCHEMA='test';
> 2.2 information_schema에 대한 접근 권한등에 대한 다른 방법

1. 과제 리뷰 및 참고자료

강사님 추천 참고자료 : KISA 발간 하는 국가정보보호백서
> 면접 준비나 프로젝트 내용에 넣을 수 있도록 고민할 것

정보보안정책 검색
> 모든 회사에 이런게 있음
> 1,2,3조는 기본으로 가져가는 템플릿
> 특정 지침이나 정책에 관여할 때 관련자료가 많으니 충분히 참고하여 작성할 것

SBOM(Software Bill of Materials) : 소프트웨어 구성 요소에 대한 정보를 담은 공식적인 기록
> 공급망 보안 관련해서 핫한 주제

cve(Common Vulnerabilities and Exposures) : 공개적으로 알려진 컴퓨터 보안 결함 목록
> https://www.cve.org

거버넌스 : 특정 분야 관련 의사결정 체계 혹은 관리체계

실습과제 한 것도 포토폴리오에 추가할 수 있도록(거창하게, 잘 포장해서)

2. DB관련 기본 개념
스토어드 프로시저 : 
> SQL 의 alias 기능, 함수나 클래스처럼 미리 구성해놓고 반복적인 작업의 자동화를 가능하게함.
> 서버에서 실행되어 네트워크 부하 감소를 통한 성능 향상을 꾀할 수 있음.
> SQL 코드를 직접적으로 노출하지 않기 때문에 보안 강화 측면에서도 추천되는 작업 방식임.

SQL 프로그래밍

인덱스
> 테이블에서 데이터를 빠르게 검색할 수 있도록 도와주는 데이터 구조
> 탐색을 빠르게 하지만 너무 많이 사용시 생성/삭제 쿼리의 성능 저하 가능성 있음.

뷰
> 하나 이상의 테이블에서 선택한 데이터를 가상의 테이블로 보여주는 SQL 객체
> 필요할 때마다 실행되며, 휘발성을 가진 읽기전용 데이터임

스토어드 함수 : 
> 스토어드 프로시저 보다 간단하며 특정 결과값을 반환한다는 점이 다름.

커서 : 
> 결과셋을 행 단위로 순회하며 처리하게 해주는 SQL 객체

트리거 : 
> 이벤트가 발생할 때(INSERET,UPDATE,DELETE) 자동으로 실행됨
> 로깅/감사 기능, 데이터 무결성 관련 개념

데이터 마스킹 :
> 민감한 데이터를 실제 데이터와 유사하지만 가치없는 데이터로 변환하여 노출을 방지하는 기술
> 개발, 교육 등 비운영 환경에서 많이 사용되는 기술임.
> [가명정보 처리 가이드라인] 참고
> 개인정보,가명정보,익명정보의 비교 및 차이점 확실히 인지할 것
> 개인정보보호법 제 28조 참고
> 큰 회사의 경우 가명정보 처리 담당자 혹은 담당부서가 따로 있음.

개인정보포털
>개인정보보호에 대한 개념 확인

3.실습

CONCAT : 2개 이상의 문자열을 합쳐서 하나의 문자열로 반환
> CONCAT(str1,str2,...,strN)
SUBSTR  : 문자열의 일부분을 잘라서 반환
> SUBSTR(str,start,length)
LOCATE : 어떤 문자열 안에 특정 문자열이 몇 번째에 있는지 반환
> LOCATE(substr, str[, start])
LENGTH : 문자열의 길이를 바이트 단위로 반환
> LENGTH(str)

MD5 : 단방향 해시, 128비트의 MD5 해시를 생성(단방향,복호화 불가능), 비밀번호 저장이나 무결성 검사 등에 사용됨.
> 보안에 민감한 시스템에서는 SHA2 또는 bcrypt 등을 권장, MD5는 취약점 있음.
> 현재는 중대한 보안 취약점으로 인해 사용이 권장되지 않음.
>> 충돌 : 서로 다른 두 입력갑싱 동일한 MD5 해시값을 생성할 수 있음, 해시 함수의 기본 속성인 '유일성'을 무너뜨림
>> 빠른 계산 속도 : 해시 연산이 너무 빠르기 때문에 레인보우 테이블 공격, 사전 공격이 쉽게 가능
>> 길이 확장 공격 : MD5는 Merkle-Damgard 구조 기반 이어서 패딩 방식의 취약점을 이용하여 공격자가 해시를 늘려 변조 가능 > 메세지 위조/변조나 서명 우회 공격에 악용될 수 있음.
HEX : 바이너리 문자열을 16진수 문자열로 변환, 바이너리 데이터를 저장할 때 유용함.
UNHEX : 16진수 문자열을 바이너리 문자열로 변환, 암호화된 바이너리를 다시 복호화할 때 자주 함께 사용됨.
AES_ENCRYPT : AES 대칭키 암호화, 결과는 바이너리 형식이므로 HEX()로 보거나 BLOB 타입으로 저장해야됨.
> AES_ENCRYPT(str, public_key)
AES_DECRYPT : AES 대칭키 복호화, 암호화된 데이터를 원래 평문으로 복호화, 암호화시 사용한 키와 동일해야 복호화 가능

4. 다시 이론 

DB 모델링
> 어떤 개체가 속하는 범주를 규명하여 개체 집합을 분리하고 묶는 수준을 고민하는 과정

개념적 모델링
> ERD, 주요 엔터티 및 엔터티간 관계를 정의하는 단계
논리적 모델링
> 정규화
물리적 모델링
> 실제 DBMS에 구현할 수 있도록 구체화

보안 솔루션
네트워크
	방화벽
	IDS
	IPS
	DDoS 대응(AntiDDoS)
	WAF
	VPN
	NAC
	WIPS
	망분리
시스템
	서버 접근 통제
	취약점 분석 시스템
	PMS
	TMS
	**SIEM : 모든 PC의 syslog 모아서 분석 및 모니터링
	
엔드포인트	
	악성코드/랜섬웨어 대응
	**EDR : 탐지 및 대응 까지(ex : 특정 PC의 데이터 다수가 갑자기 암호화)
	모바일 단말 보안
데이터
	DB 보안 및 암호화
	**DLP : 외부로 메일 보낼 때 동작
	DRM
	문서 중앙화	
	보안 USB : 제공된 USB에 승인받은 사용기간이 지정된
	출력물 보안
	메일 보안
	개인정보 비식별화 : 마스킹 등을 한 큐에 해주는 솔루션
	개인정보 접속기록관리


관련서류
전자금융기반시설 보안 취약점 평가항목
>전자금융기반시설 보안 취약점 평가기준

주요정보통신기반시설 기술적 취약점 분석 평가 상세 가이드(KISA)
> 585~648p : DBMS 관련 취약점 분석 가이드
> 현재 사용중인 시스템에 필요한 평가항목 확인 및 적용할 것
> '상'항목에 대해서는 필수적으로 확인할 것

DB 공격기법

SQL injection > 입력 값 검증(Prepared Statements) > URL(GET) 또는 입력 파라미터(POST) 값이 SQL 쿼리문에 직접 들어가지 않도록 처리할 것
권한상승공격 > 최소 권한 원칙 및 RBAC 적용> 에 더해 주기적인 감사 및 패치 및 엎데이트
DB DoS > 강력한 암호화 사용, 키 관리
암호화 우회 > 트래픽 모니터링 및 제어,부하 분산, 네트워크 방어

